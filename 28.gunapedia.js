(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{12:function(e,t,a){"use strict";var n=a(8),r=a(10),c=a(0),s=a.n(c),o=a(1),i=a.n(o),l=a(7),u=a.n(l),m=a(2),p={tag:m.i,active:i.a.bool,className:i.a.string,cssModule:i.a.object},d=function(e){var t=e.className,a=e.cssModule,c=e.active,o=e.tag,i=Object(r.a)(e,["className","cssModule","active","tag"]),l=Object(m.f)(u()(t,!!c&&"active","breadcrumb-item"),a);return s.a.createElement(o,Object(n.a)({},i,{className:l,"aria-current":c?"page":void 0}))};d.propTypes=p,d.defaultProps={tag:"li"},t.a=d},20:function(e,t,a){"use strict";var n=a(8),r=a(10),c=a(0),s=a.n(c),o=a(1),i=a.n(o),l=a(7),u=a.n(l),m=a(2),p={tag:m.i,listTag:m.i,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},d=function(e){var t=e.className,a=e.listClassName,c=e.cssModule,o=e.children,i=e.tag,l=e.listTag,p=e["aria-label"],d=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),f=Object(m.f)(u()(t),c),b=Object(m.f)(u()("breadcrumb",a),c);return s.a.createElement(i,Object(n.a)({},d,{className:f,"aria-label":p}),s.a.createElement(l,{className:b},o))};d.propTypes=p,d.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.a=d},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(8),r=a(10),c=a(0),s=a.n(c),o=a(1),i=a.n(o),l=a(7),u=a.n(l),m=a(2),p={tag:m.i,className:i.a.string,cssModule:i.a.object,tabId:i.a.any},d={activeTabId:i.a.any};function f(e,t){var a=e.className,c=e.cssModule,o=e.tabId,i=e.tag,l=Object(r.a)(e,["className","cssModule","tabId","tag"]),p=Object(m.f)(u()("tab-pane",a,{active:o===t.activeTabId}),c);return s.a.createElement(i,Object(n.a)({},l,{className:p}))}f.propTypes=p,f.defaultProps={tag:"div"},f.contextTypes=d},295:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(0),s=a.n(c),o=a(9),i=a(6),l=a(20),u=a(12),m=a(52),p=a(24),d=a(51),f=a.n(d),b=a(5);a(4);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,a,n,r,c,s){try{var o=e[c](s),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function y(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function s(e){h(c,n,r,s,o,"next",e)}function o(e){h(c,n,r,s,o,"throw",e)}s(void 0)}))}}function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=O(e);if(t){var r=O(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return N(this,a)}}function N(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(d,e);var t,a,n,c=w(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this,e)).dropdownbarOpen=t.dropdownbarOpen.bind(k(t)),t.toggle=t.toggle.bind(k(t)),t.chatdropdown=t.chatdropdown.bind(k(t)),t.onsubmit=t.onsubmit.bind(k(t)),t.oninput=t.oninput.bind(k(t)),t.state={activeTab:"1",chatdropdown:!1,dropdownbarOpen:!1,conversation:[],ticket:{},reply:""},t}return t=d,(a=[{key:"oninput",value:function(e){var t,a,n;this.setState((t={},a=e.target.name,n=e.target.value,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))}},{key:"onsubmit",value:function(){var e=this;function t(){return(t=y(r.a.mark((function t(n,c,s){var o,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.apiurl,"/pengguna/ticket/reply"),{headers:{"content-type":"application/x-www-form-urlencoded"},body:"session=".concat(a,"&ticketid=").concat(c,"&reply=").concat(s),method:"POST"});case 2:return o=t.sent,t.next=5,o.json();case 5:return t.sent,t.next=8,o.status;case 8:if(200===t.sent){t.next=13;break}e.props.history.push("/"),t.next=24;break;case 13:return document.getElementById("replyan").value="",t.next=16,fetch("".concat(b.apiurl,"/pengguna/ticket/conversation"),{headers:{"content-type":"application/x-www-form-urlencoded"},body:"session=".concat(a,"&ticketid=").concat(c),method:"POST"});case 16:return i=t.sent,t.next=19,i.json();case 19:return l=t.sent,t.next=22,i.status;case 22:200===t.sent?l.status&&e.setState({ticket:l.ticket,conversation:l.conversation}):e.props.history.push("/");case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=localStorage.getItem("session_key"),n=sessionStorage.getItem("ticketAction");""!==this.state.reply&&function(e,a,n){t.apply(this,arguments)}(a,n,this.state.reply)}},{key:"dropdownbarOpen",value:function(){this.setState((function(e){return{dropdownbarOpen:!e.dropdownbarOpen}}))}},{key:"toggle",value:function(e,t){this.state.activeTab!==e&&this.setState({activeTab:e,name:t})}},{key:"chatdropdown",value:function(){var e=this;this.setState((function(t){return{chatdropdown:!e.state.chatdropdown}}))}},{key:"componentDidMount",value:function(){var e=this;function t(){return(t=y(r.a.mark((function t(n,c){var s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b.apiurl,"/pengguna/ticket/conversation"),{headers:{"content-type":"application/x-www-form-urlencoded"},body:"session=".concat(a,"&ticketid=").concat(c),method:"POST"});case 2:return s=t.sent,t.next=5,s.json();case 5:return o=t.sent,t.next=8,s.status;case 8:200===t.sent?o.status&&e.setState({ticket:o.ticket,conversation:o.conversation}):e.props.history.push("/");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=localStorage.getItem("session_key"),n=sessionStorage.getItem("ticketAction");!function(e,a){t.apply(this,arguments)}(a,n)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"page-title"},s.a.createElement(o.a,null,s.a.createElement(i.a,{sm:6},s.a.createElement("h4",{className:"mb-0"}," Conversation Ticket")),s.a.createElement(i.a,{sm:6},s.a.createElement(l.a,{className:"float-left float-sm-right"},s.a.createElement(u.a,null,s.a.createElement("a",{href:"javascript:void(0);"},"Home")),s.a.createElement(u.a,{active:!0},"Ticket"))))),s.a.createElement(o.a,null,s.a.createElement(i.a,{lg:12,className:"mb-30"},s.a.createElement("div",{className:"card card-statistics h-100"},s.a.createElement("div",{className:"card-body"},s.a.createElement(m.a,{id:"left-tabs-example"},s.a.createElement(o.a,null,s.a.createElement(i.a,{xl:12,lg:12},s.a.createElement("div",{className:"chats-topbar mb-10"},s.a.createElement("div",{className:"d-block d-md-flex justify-content-between"},s.a.createElement("div",{className:"d-block"},s.a.createElement("h6",{className:"mb-0"},"#",this.state.ticket.ticket," - ",this.state.ticket.departement," Departement | ",this.state.ticket.subjek)))),s.a.createElement("hr",null),s.a.createElement(f.a,{speed:.8,className:"max-h-600"},s.a.createElement(m.a,{activeTab:this.state.activeTab},s.a.createElement(p.a,{tabId:"1"},s.a.createElement("div",{className:"chats"},this.state.conversation.map((function(e){var t="ADMIN"===e.replyby?"":"chat-me";"CLOSE"===e.replyby?document.getElementById("submitan").style.display="none":document.getElementById("submitan").style.display="block";var a="chat-wrapper ".concat(t," clearfix"),n=""===t?s.a.createElement("div",{className:"chat-avatar"},s.a.createElement("img",{className:"img-fluid avatar-small",src:"assets/images/gp.png",alt:"true"})):s.a.createElement("div",null);return[s.a.createElement("div",null,s.a.createElement("span",{className:"time d-block mt-20px mb-10 text-center text-gray"},e.replytime," "),s.a.createElement("div",{className:a},n,s.a.createElement("div",{className:"chat-body p-3"},s.a.createElement("p",null,e.message))))]})))))),s.a.createElement("div",{className:"chats mt-30",id:"submitan"},s.a.createElement("div",{className:"chat-wrapper mb-0 clearfix"},s.a.createElement("div",{className:"chat-input"},s.a.createElement("div",{className:"chat-input-icon"},s.a.createElement("a",{className:"text-muted",href:"javascript:void(0);"},s.a.createElement("i",{className:"fa fa-smile-o"})," ")),s.a.createElement("textarea",{className:"form-control input-message scrollbar",placeholder:"Type here...*",rows:2,id:"replyan",name:"reply",onInput:this.oninput,defaultValue:""})),s.a.createElement("div",{className:"chat-button"},s.a.createElement("a",{onClick:this.onsubmit}," ",s.a.createElement("i",{className:"fa fa-send-o"})))))))))))))}}])&&g(t.prototype,a),n&&g(t,n),d}(s.a.Component);t.default=j},52:function(e,t,a){"use strict";var n=a(8),r=a(21),c=a(0),s=a.n(c),o=a(54),i=a(1),l=a.n(i),u=a(7),m=a.n(u),p=a(2),d={tag:p.i,activeTab:l.a.any,className:l.a.string,cssModule:l.a.object},f={activeTabId:l.a.any},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null};var a=t.prototype;return a.getChildContext=function(){return{activeTabId:this.state.activeTab}},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.tag,c=Object(p.g)(this.props,Object.keys(d)),o=Object(p.f)(m()("tab-content",t),a);return s.a.createElement(r,Object(n.a)({},c,{className:o}))},t}(c.Component);Object(o.polyfill)(b),t.a=b,b.propTypes=d,b.defaultProps={tag:"div"},b.childContextTypes=f}}]);